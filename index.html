<!DOCTYPE html>
<html lang="en">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KK3QZ8M8D3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-KK3QZ8M8D3');
    </script>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Arnav Mishra | Work & Mind</title>
    
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Playfair+Display:ital,wght@0,400;1,600&family=Poppins:wght@300;400;600&family=Courier+Prime:wght@400;700&family=Great+Vibes&family=Orbitron:wght@500&display=swap" rel="stylesheet">

    <style>
        /* --- ðŸ”„ 3D FLIP PROFILE (130px) --- */
        .profile-container {
            width: 130px;
            height: 130px;
            margin: 15px auto 20px auto;
            perspective: 1000px;
            cursor: pointer;
            position: relative;
            z-index: 10;
        }

        .profile-inner {
            width: 100%; height: 100%;
            text-align: center; transition: transform 0.8s; transform-style: preserve-3d;
        }

        .profile-container.flipped .profile-inner { transform: rotateY(180deg); }

        .profile-front, .profile-back {
            position: absolute; width: 100%; height: 100%;
            -webkit-backface-visibility: hidden; backface-visibility: hidden;
            border-radius: 50%; overflow: hidden;
            display: flex; align-items: center; justify-content: center;
        }

        /* FRONT STYLE */
        .profile-front {
            background: #000;
            border: 2px solid transparent;
            box-shadow: 0 0 15px rgba(0, 255, 136, 0.4);
            animation: futuristicGlow 4s linear infinite alternate;
        }

        @keyframes futuristicGlow {
            0% { border-color: #00ff88; box-shadow: 0 0 15px rgba(0, 255, 136, 0.5); }
            50% { border-color: #00a3ff; box-shadow: 0 0 25px rgba(0, 163, 255, 0.6); }
            100% { border-color: #ff00ff; box-shadow: 0 0 15px rgba(255, 0, 255, 0.5); }
        }
        
        .profile-img { 
            width: 100%; height: 100%; object-fit: cover; 
            z-index: 1; 
            opacity: 0.8; 
        }

        /* BACK STYLE (VIDEO) */
        .profile-back {
            background: #000; transform: rotateY(180deg);
            border: 2px solid #00ff88;
        }
        .profile-video { width: 100%; height: 100%; object-fit: cover; }

        /* --- ðŸ‘† SWIPE ARROW INDICATOR --- */
        .swipe-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 5; 
            pointer-events: none;
            display: flex; align-items: center; justify-content: center;
        }
        
        .swipe-arrow-icon {
            font-size: 35px; 
            color: #fff;
            filter: drop-shadow(0 0 5px #00ff88); 
            animation: arrowMove 1.5s infinite ease-in-out;
            position: absolute;
        }

        @keyframes arrowMove {
            0% { transform: translateX(-40px); opacity: 0; } 
            50% { transform: translateX(0px); opacity: 1; }  
            100% { transform: translateX(40px); opacity: 0; } 
        }

        /* --- ðŸ¤– CHATBOT STYLES --- */
        #chatbot-btn {
            position: fixed; bottom: 30px; right: 30px;
            width: 65px; height: 65px; 
            background: #000; border: 2px solid #00ff88;
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            cursor: pointer; 
            box-shadow: 0 0 20px rgba(0, 255, 136, 0.4);
            z-index: 21000; transition: all 0.3s ease;
            color: #fff; font-size: 28px;
            animation: floatBtn 3s ease-in-out infinite;
        }
        #chatbot-btn:hover { transform: scale(1.1); box-shadow: 0 0 35px rgba(0, 255, 136, 0.8); }
        
        #chat-window {
            display: none; position: fixed; bottom: 110px; right: 30px;
            width: 340px; height: 480px; 
            background: rgba(5, 5, 5, 0.95); border: 1px solid #333;
            border-radius: 15px; flex-direction: column; overflow: hidden; z-index: 21000;
            box-shadow: 0 20px 50px rgba(0,0,0,0.95); font-family: 'Poppins', sans-serif;
        }
        .chat-header { background: linear-gradient(90deg, #111, #000); padding: 15px 20px; color: #00ff88; font-weight: 700; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #222; }
        .chat-body { flex: 1; padding: 20px; overflow-y: auto; display: flex; flex-direction: column; gap: 15px; }
        .chat-input-area { padding: 15px; border-top: 1px solid #222; display: flex; gap: 10px; background: #000; align-items: center; }
        #user-input { flex: 1; padding: 12px 15px; border-radius: 5px; border: 1px solid #333; background: #111; color: #fff; outline: none; font-size: 0.9rem; }
        #user-input:focus { border-color: #00ff88; }
        #send-btn { background: #00ff88; border: none; color: #000; padding: 10px; border-radius: 5px; cursor: pointer; width: 40px; font-weight: bold; }
        .msg { padding: 10px 15px; border-radius: 8px; max-width: 85%; font-size: 0.9rem; line-height: 1.5; }
        .user-msg { align-self: flex-end; background: #222; color: #fff; }
        .ai-msg { align-self: flex-start; background: #000; color: #00ff88; border: 1px solid #00ff88; }
        .typing { font-size: 0.75rem; color: #666; margin-left: 15px; display: none; font-style: italic; }
        @keyframes floatBtn { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-5px); } }
    </style>
</head>

<body id="main-body">

    <div class="menu-icon" onclick="toggleMenu()">
        <div class="bar"></div><div class="bar"></div><div class="bar"></div>
    </div>
    <div id="sidebar" class="sidebar">
        <a href="#" class="close-btn" onclick="toggleMenu()">&times;</a>
        <div class="sidebar-content">
            <h3>NAVIGATE</h3>
            <a href="#" onclick="switchToHome(); toggleMenu()"><i class="fas fa-home"></i> Home</a>
            <a href="#" onclick="switchToAbout(); toggleMenu()"><i class="fas fa-user-astronaut"></i> About Me</a>
            <a href="#" onclick="switchToRecs(); toggleMenu()"><i class="fas fa-star"></i> Arnav's Picks</a>
            <a href="verse.html" style="color: #00ff88; border: 1px solid #00ff88; border-radius: 5px; margin-top: 15px; text-shadow: 0 0 5px #00ff88;">
                <i class="fas fa-gamepad"></i> ARNAV VERSE
            </a>
        </div>
    </div>
    <div id="overlay" onclick="toggleMenu()"></div>
    <div id="intro-screen"><div class="signature-container"><span id="signature-text"></span><span class="cursor"></span></div></div>
    
    <div class="eclipse-wrapper" id="themeWrapper">
        <div class="eclipse-toggle" id="themeToggle"><div class="sun"></div><div class="moon"></div></div>
        <div class="eclipse-hint" id="themeHint"><span>Tap: Switch | Hold: Move</span><div class="close-hint" onclick="closeHint()">Ã—</div></div>
    </div>

    <audio id="global-bg-music" loop preload="auto"><source src="co2.mp3" type="audio/mpeg"></audio>

    <div class="sound-control">
        <button onclick="toggleMusic()" id="mute-btn">
            <div class="icon-container"><i class="fas fa-volume-mute" id="mute-icon"></i></div>
        </button>
    </div>

    <div id="chatbot-btn" onclick="toggleChat()"><i class="fas fa-brain"></i></div>
    <div id="chat-window">
        <div class="chat-header">
            <span>ARNAV AI <i class="fas fa-bolt"></i></span>
            <span onclick="toggleChat()" style="cursor:pointer;">&times;</span>
        </div>
        <div class="chat-body" id="chat-body">
            <div class="msg ai-msg">Online. âš¡ Bol bhai?</div>
        </div>
        <div class="typing" id="typing-indicator">Typing...</div>
        <div class="chat-input-area">
            <input type="text" id="user-input" placeholder="Type here..." onkeypress="handleEnter(event)">
            <button id="send-btn" onclick="sendMessage()"><i class="fas fa-arrow-up"></i></button>
        </div>
    </div>

    <div class="main-wrapper">
        <div id="home-view">
            
            <div class="profile-container anim-delay-1" id="profile-card">
                <div class="profile-inner">
                    <div class="profile-front">
                        <img src="https://imarnavin.wordpress.com/wp-content/uploads/2026/01/image_editor_output_image-900633096-17689630363507786449788545237875.jpg" class="profile-img" alt="Arnav Mishra">
                        <div class="swipe-overlay">
                            <i class="fas fa-arrow-right swipe-arrow-icon"></i>
                        </div>
                    </div>
                    <div class="profile-back">
                        <video id="elon-video" class="profile-video" playsinline></video>
                    </div>
                </div>
            </div>
            
            <div class="name anim-delay-2">Arnav Mishra</div>
            
            <div class="bio-wrap anim-delay-3" style="min-height: 30px;">
                <div class="bio" id="bio-text" style="color: #00a3ff; font-family: 'Courier Prime', monospace;"></div>
            </div>

            <div class="quote-box anim-delay-4">"The secret of change is to focus all of your energy, not on fighting the old, but on building the new."</div>

            <div class="btn-grid anim-delay-5">
                <a href="https://www.linkedin.com/in/arnav-mishra-1a6934371" class="btn"><i class="fab fa-linkedin"></i> LinkedIn</a>
                <a href="https://x.com/ArnavMishra142" class="btn"><i class="fab fa-twitter"></i> X / Twitter</a>
                <a href="https://www.instagram.com/arnav_9.11" class="btn"><i class="fab fa-instagram"></i> Instagram</a>
                <a href="https://www.chess.com/member/Arnavm142" class="btn"><i class="fas fa-chess-knight"></i> Chess.com</a>
            </div>

            <button onclick="switchToAbout()" class="main-btn anim-delay-6">ENTER MY WORLD <i class="fas fa-arrow-right"></i></button>
            
            <div class="chess-msg-container anim-delay-7">
                <a href="https://wa.me/916393349498?text=Hey%20Arnav,%20I%20visited%20your%20portfolio!" target="_blank" class="chess-btn-styled">
                    <div class="chess-btn-content">
                        <i class="fas fa-chess-knight knight-icon-white"></i>
                        <div class="btn-text-group"><span class="small-text-gray">MAKE A MOVE</span><span class="big-text-white">Say Hello <i class="fas fa-hand-sparkles wave-icon"></i></span></div>
                    </div>
                    <div class="dashed-border-bottom"></div>
                </a>
            </div>
            <div class="portal-container anim-delay-8"><a href="stranger.html" class="glitch-btn" data-text="ENTER THE UPSIDE DOWN">ENTER THE UPSIDE DOWN</a></div>
            <div style="text-align: center; margin-top: 15px; margin-bottom: 20px;"><a href="concert.html" class="concert-btn">ðŸŽ¸ Enter Live Concert</a></div>
            <p class="footer-text anim-delay-8">Â© 2026 ARNAV MISHRA</p>
        </div>

        <div id="about-view" style="display: none;"><div style="height: 30px;"></div><h2 class="section-title">Projects</h2><div class="card project-card"><div class="card-header"><h3 style="color: #ff4b4b;">Zomato Analysis ðŸ“Š</h3></div><p class="card-desc">Market positioning and SWOT analysis for hyperlocal delivery based on real-time data.</p><a href="https://docs.google.com/spreadsheets/d/11k2QyICWavfXFuUGXRBGnRJ7l7zsblQB/edit?usp=drivesdk" target="_blank" class="project-link-btn">View Sheets Project <i class="fas fa-external-link-alt"></i></a></div><h2 class="section-title">Sonic Fuel (GOAT)</h2><div class="card krsna-card"><div class="krsna-header" style="display: flex; align-items: center; justify-content: space-between;"><div style="display: flex; align-items: center;"><div class="krsna-icon dollar-gold">$</div><div style="margin-left: 15px;"><h3>KR$NA ðŸ‘‘</h3><p class="subtitle">The inspiration.</p></div></div><div id="krsna-play-btn" onclick="toggleKrsnaPlay()"><i class="fas fa-play" id="krsna-play-icon"></i></div></div><div class="lyrics-box">"Chahiye mujhe bas ek buss down Rollie<br>Lambhi si gaadi aur makaan do storey..."</div><audio id="krsna-audio"><source src="Buss down.mp3" type="audio/mpeg"></audio></div><h2 class="section-title">Original Verses</h2><div class="card verse-card"><div class="verse-header"><h3 class="verse-title fire">ðŸ”¥ Jang-kaal</h3></div><div id="verse-1-display" class="verse-content"></div></div><div class="card verse-card"><div class="verse-header"><h3 class="verse-title cosmic">ðŸŒŒ Anjaan</h3></div><div id="verse-2-display" class="verse-content"></div></div><div style="height: 80px;"></div></div>
        <div id="recs-view" style="display: none;"><div style="height: 30px;"></div><h2 class="section-title" style="color: #00ff88; text-align: center;">Arnav's Intel ðŸ§ </h2><p style="color: #888; text-align: center; margin-bottom: 30px; font-family: 'Courier Prime';">Stuff that upgraded my mind.</p></div>
    </div>

    <script src="script.js"></script>
    <script> if (localStorage.getItem('theme') === 'light') { document.body.classList.add('light-mode'); document.getElementById('themeToggle').classList.add('active'); } </script>

    <script>
        // 1. CHATBOT LOGIC
        const SYSTEM_PROMPT = `You are 'Arnav AI', a raw, intelligent, and loyal assistant created by Arnav Mishra...`; 
        function toggleChat() { 
            const w = document.getElementById('chat-window'); 
            w.style.display = (w.style.display === 'flex') ? 'none' : 'flex'; 
            if(w.style.display === 'flex') document.getElementById('user-input').focus();
        }
        function handleEnter(e) { if (e.key === 'Enter') sendMessage(); }
        async function sendMessage() {
            const inputField = document.getElementById('user-input');
            const chatBody = document.getElementById('chat-body');
            const typingIndicator = document.getElementById('typing-indicator');
            const text = inputField.value.trim();
            if (!text) return;

            addMessage(text, 'user-msg');
            inputField.value = '';
            typingIndicator.style.display = 'block';
            chatBody.scrollTop = chatBody.scrollHeight;

            try {
                const response = await fetch(`https://text.pollinations.ai/${encodeURIComponent(SYSTEM_PROMPT + "\n\nUser: " + text + "\nArnav AI:")}`);
                const aiReply = await response.text();
                typingIndicator.style.display = 'none';
                addMessage(aiReply, 'ai-msg');
            } catch (error) {
                typingIndicator.style.display = 'none';
                addMessage("Glitch aa gaya bhai. ðŸ’€", 'ai-msg');
            }
        }
        function addMessage(text, className) {
            const chatBody = document.getElementById('chat-body');
            const div = document.createElement('div');
            div.classList.add('msg', className);
            div.innerText = text;
            chatBody.appendChild(div);
            chatBody.scrollTop = chatBody.scrollHeight;
        }

        // 2. PROFILE FLIP LOGIC (TOUCH & CLICK + CACHE FIX)
        let isFlipped = false;
        let touchStartX = 0;
        const profileCard = document.getElementById('profile-card');

        profileCard.addEventListener('touchstart', e => { touchStartX = e.changedTouches[0].screenX; });
        profileCard.addEventListener('touchend', e => {
            if (Math.abs(e.changedTouches[0].screenX - touchStartX) > 20) triggerProfileFlip();
        });

        function triggerProfileFlip() {
            if (isFlipped) return;
            const card = document.getElementById('profile-card');
            const video = document.getElementById('elon-video');
            const hour = new Date().getHours();
            
            // Auto Select Video
            let videoFile = "";
            if (hour >= 5 && hour < 12) videoFile = "elon_morning.mp4";
            else if (hour >= 12 && hour < 18) videoFile = "elon_afternoon.mp4";
            else videoFile = "elon_evening.mp4";
            
            // ðŸ”¥ CACHE BUSTER: Browser ko force karega nayi file lene ke liye
            video.src = videoFile + "?t=" + new Date().getTime();
            
            card.classList.add('flipped');
            isFlipped = true;
            
            setTimeout(() => {
                video.muted = false; 
                video.play().catch(() => console.log("Tap required for sound"));
            }, 300);

            video.onended = () => {
                card.classList.remove('flipped');
                isFlipped = false;
            };
        }

        // 3. TYPEWRITER EFFECT (INSTANT TRIGGER)
        function forceTypeWriter(text, element, speed) {
            let i = 0;
            element.innerHTML = "";
            function typing() {
                if (i < text.length) {
                    element.innerHTML += text.charAt(i);
                    i++;
                    setTimeout(typing, speed);
                }
            }
            typing();
        }

        // ðŸ”¥ IMPORTANT CHANGE: 'DOMContentLoaded' use kiya taaki text turant aaye
        document.addEventListener('DOMContentLoaded', () => {
             document.querySelectorAll('#home-view > div, #home-view > button').forEach(el => el.classList.add('animate-entry'));
             
             // Trigger Typing
             const bioElement = document.getElementById('bio-text');
             if(bioElement) forceTypeWriter("Building ideas from scratch.", bioElement, 80);
             
             // Mute Music Initial State
             const bgMusic = document.getElementById('global-bg-music');
             const muteIcon = document.getElementById('mute-icon');
             if(bgMusic) { bgMusic.volume = 0.5; }
             if(muteIcon) { muteIcon.className = "fas fa-volume-mute"; }
        });
    </script>

    <script src="gravity.js"></script>
    <script src="jarvis.js"></script>

</body>
  </html>
